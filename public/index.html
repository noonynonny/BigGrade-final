<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BigGrade</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      position: relative;
    }
    
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }
    
    /* Overlay that matches BigGrade's dark gradient background */
    .branding-cover {
      position: fixed;
      bottom: 0;
      right: 0;
      width: 300px;
      height: 120px;
      /* Match BigGrade's dark purple/blue gradient */
      background: linear-gradient(
        to top, 
        #1a1a2e 0%, 
        #16213e 30%,
        #0f1624 60%,
        transparent 100%
      );
      z-index: 9999;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .branding-cover.visible {
      opacity: 1;
    }
  </style>
</head>
<body>
  <iframe 
    id="app-iframe"
    src="https://biggrade0.base44.app"
    sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-modals allow-storage-access-by-user-activation"
    allow="camera; microphone; clipboard-read; clipboard-write; fullscreen; payment; geolocation; storage-access"
    allowfullscreen
  ></iframe>
  
  <!-- Overlay that blends with BigGrade's dark gradient -->
  <div class="branding-cover" id="branding-cover"></div>
  
  <script>
    const iframe = document.getElementById('app-iframe');
    const cover = document.getElementById('branding-cover');
    
    let hideTimer = null;
    
    // Try to inject CSS to prevent Base44 branding from appearing
    iframe.addEventListener('load', () => {
      console.log('Iframe loaded - attempting to prevent Base44 branding');
      
      try {
        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
        
        // Inject CSS immediately to prevent branding from showing
        const style = iframeDoc.createElement('style');
        style.textContent = `
          /* Aggressively prevent Base44 branding from appearing */
          [class*="base44"],
          [id*="base44"],
          [class*="Base44"],
          [id*="Base44"],
          a[href*="base44.app"],
          a[href*="base44.com"],
          button[class*="edit"],
          button[class*="remix"],
          button[class*="Edit"],
          button[class*="Remix"],
          div[class*="branding"],
          div[class*="watermark"],
          div[class*="powered"],
          div[class*="made-with"],
          .powered-by,
          .made-with,
          [aria-label*="base44"],
          [aria-label*="Base44"],
          [title*="base44"],
          [title*="Base44"],
          /* Target common positions */
          body > div:last-child:not([class*="app"]):not([id*="root"]),
          body > a:last-child,
          /* Target fixed/absolute positioned elements in bottom corners */
          div[style*="position: fixed"][style*="bottom"],
          div[style*="position: absolute"][style*="bottom"] {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
            width: 0 !important;
            height: 0 !important;
            overflow: hidden !important;
          }
        `;
        iframeDoc.head.appendChild(style);
        
        console.log('âœ… Successfully injected CSS to prevent Base44 branding');
        
        // Monitor for branding elements that might still appear
        setTimeout(() => {
          const brandingElements = iframeDoc.querySelectorAll(
            '[class*="base44"], [id*="base44"], a[href*="base44"]'
          );
          
          if (brandingElements.length > 0) {
            console.log(`âš ï¸ Found ${brandingElements.length} Base44 elements despite CSS - showing overlay`);
            showCoverWithTimer();
            
            // Try to remove them directly
            brandingElements.forEach(el => {
              el.remove();
            });
          } else {
            console.log('âœ… No Base44 branding detected - CSS prevention successful');
          }
        }, 2000);
        
      } catch (error) {
        // Cross-origin - can't inject CSS
        console.log('âŒ Cannot inject CSS (cross-origin) - will use overlay as fallback');
        
        // Show overlay after delay (Base44 typically loads branding after 2-3 seconds)
        setTimeout(() => {
          showCoverWithTimer();
        }, 3000);
      }
    });
    
    function showCoverWithTimer() {
      // Clear any existing timer
      if (hideTimer) {
        clearTimeout(hideTimer);
      }
      
      // Show the cover
      cover.classList.add('visible');
      console.log('ðŸ“ Showing branding cover (blends with dark gradient)');
      
      // Hide after 7 seconds
      hideTimer = setTimeout(() => {
        cover.classList.remove('visible');
        console.log('âœ… Hiding branding cover after 7 seconds');
      }, 7000);
    }
    
    // Clean up on page unload
    window.addEventListener('beforeunload', () => {
      if (hideTimer) {
        clearTimeout(hideTimer);
      }
    });
  </script>
</body>
</html>
